<app-template-reporte [type]="type" [form]="form" (clickSearchBtn)="onClickSearchBtn()" #template>
  <div filtrosContent>

    <fieldset class="well">
      <legend class="well-legend"> <i class="fa fa-search" aria-hidden="true"></i> Filtros</legend>
      <div [formGroup]="form">
        <div class="row">
          <label class="col-sm-1 ob-custom-label-form">Fecha Registro</label>
          <div class="form-group col-sm-3">
            <div class="input-group">
              <input stype="text" class="form-control" placeholder="" #drpFechaProceso="bsDaterangepicker"
                [bsConfig]="{ rangeInputFormat: 'DD/MM/YYYY', containerClass: 'theme-blue', adaptivePosition: true }"
                bsDaterangepicker formControlName="fechaRegistro" />
              <div class="input-group-append">
                <span class="input-group-text" (click)="drpFechaProceso.toggle()"><i class="icon-calendar"></i></span>
              </div>
            </div>
          </div>
          <label class="col-sm-1 ob-custom-label-form">Pabellón</label>
          <div class="form-group col-sm-3">
            <ng-select [items]="pabellones" class="ng-select-custom"
              bindLabel="label" bindValue="idMultitabDet" placeholder="Seleccione un pabellón" [multiple]="true"
              [notFoundText]="'No hay datos encontrados.'" formControlName="pabellones">
              <ng-template ng-option-tmp let-item="item">
                {{item.descripcionItem}}
              </ng-template>
              <ng-template ng-label-tmp let-item="item">
                {{item.descripcionItem}}
              </ng-template>
            </ng-select>
            <bfv-messages></bfv-messages>
          </div>
          <label class="col-sm-1 ob-custom-label-form">Tipo Espacio</label>
          <div class="form-group col-sm-3">
            <ng-select #institucionSelect [items]="tiposEspacios" class="ng-select-custom" bindLabel="label"
              bindValue="idMultitabDet" placeholder="TODOS" [multiple]="true"
              [notFoundText]="'No hay datos encontrados.'" formControlName="tipoEspacios">
              <ng-template ng-option-tmp let-item="item">
                {{item.descripcionItem}} 
              </ng-template>
              <ng-template ng-label-tmp let-item="item">
                {{item.descripcionItem}} 
              </ng-template>
            </ng-select>
            <bfv-messages></bfv-messages>
          </div>
        </div>
        <div class="row">
          <label class="col-sm-1 ob-custom-label-form">Espacio</label>
          <div class="form-group col-sm-3">
            <ng-select #binSelect [items]="espacios" class="ng-select-custom" bindLabel="label" bindValue="idEspacioAcademico"
              placeholder="TODOS" [multiple]="true" [notFoundText]="'No hay datos encontrados.'" formControlName="espacios">
              <ng-template ng-option-tmp let-item="item">
                {{item.idEspacioAcademico}} - {{item.descripcionEspacioAcademico}} 
                  </ng-template>
                  <ng-template ng-label-tmp let-item="item">
                {{item.idEspacioAcademico}} - {{item.descripcionEspacioAcademico}} 
                  </ng-template>
            </ng-select>
            <bfv-messages></bfv-messages>
          </div>
          <label class="col-sm-1 ob-custom-label-form">Tipo Solicitud</label>
          <div class="form-group col-sm-3">
            <ng-select #binSelect [items]="tipoSolicitud" class="ng-select-custom" bindLabel="label" bindValue="idMultitabDet"
              placeholder="TODOS" [multiple]="true" [notFoundText]="'No hay datos encontrados.'" formControlName="tiposSolicitudes">
              <ng-template ng-option-tmp let-item="item">
                {{item.descripcionItem}}
              </ng-template>
              <ng-template ng-label-tmp let-item="item">
                {{item.descripcionItem}}
              </ng-template>
            </ng-select>
            <bfv-messages></bfv-messages>
          </div>
          <label class="col-sm-1 ob-custom-label-form">Fecha Reserva</label>
          <div class="form-group col-sm-3">
            <div class="input-group">
              <input stype="text" class="form-control" placeholder="" #drpFechaProceso="bsDaterangepicker"
                [bsConfig]="{ rangeInputFormat: 'DD/MM/YYYY', containerClass: 'theme-blue', adaptivePosition: true }"
                bsDaterangepicker formControlName="fechaReserva" />
              <div class="input-group-append">
                <span class="input-group-text" (click)="drpFechaProceso.toggle()"><i class="icon-calendar"></i></span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <label class="col-sm-1 ob-custom-label-form">Solicitante</label>
          <div class="form-group col-sm-6">
            <ng-select #binSelect [items]="solicitantes" class="ng-select-custom" bindLabel="label" bindValue="idSolicitante"
              placeholder="TODOS" [multiple]="true" [notFoundText]="'No hay datos encontrados.'" formControlName="solicitantes">
                <ng-template ng-option-tmp let-item="item">
                  {{item.dni}} - {{item.nombres}} {{item.apellidoPaterno}} {{item.apellidoMaterno}} 
                </ng-template>
                <ng-template ng-label-tmp let-item="item">
                  {{item.dni}} - {{item.nombres}} {{item.apellidoPaterno}} {{item.apellidoMaterno}} 
                </ng-template>
            </ng-select>
            <bfv-messages></bfv-messages>
          </div>
        </div>
        <div class="row">
          <div class="form-group col-lg-12 text-center">
            <button type="submit" class="btn btn-primary" [disabled]="buscando">
              <i class="fa" [ngClass]="{'fa-spinner fa-pulse fa-fw': buscando  , 'fa-search': !buscando}"></i> Buscar
            </button>
          </div>
        </div>
      </div>
    </fieldset>
  </div>

  <div resultadoContent>


    <app-pagelength [gridApi]="gridApi"></app-pagelength>
    <ag-grid-angular 
      #agGrid 
      class="ag-theme-balham"
      style="height: 600px;"
      [rowData]="[]"
      [gridOptions]="gridOptions">
    </ag-grid-angular>

  </div>

</app-template-reporte>
