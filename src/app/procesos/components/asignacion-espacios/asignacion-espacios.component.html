<app-template-mantenimiento [type]="type" (clickProcesarBtn)="procesarAsignacion()" [loading]="loading" #template>
  <app-pagelength [gridApi]="gridApi"></app-pagelength>
  <ag-grid-angular
    #agGrid
    class="ag-theme-balham"
    [gridOptions]="gridOptions"
  ></ag-grid-angular>
</app-template-mantenimiento>

<app-form-modal [options]="mdFormOpts" (onSubmit)="save()" [form]="form" #mdSave>
  <div [formGroup]="form">
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Periodo</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <input type="text" class="form-control" formControlName="periodo">
          <bfv-messages></bfv-messages>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Ciclo</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <input type="text" class="form-control" formControlName="ciclo">
          <bfv-messages></bfv-messages>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Curso</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <input type="text" class="form-control" formControlName="curso">
          <bfv-messages></bfv-messages>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Matriculados</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <input type="text" class="form-control" formControlName="matriculados">
          <bfv-messages></bfv-messages>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Tipo Horario</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <input type="text" class="form-control" formControlName="tipoHorario">
          <bfv-messages></bfv-messages>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Pabellón</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <ng-select #pabellonSelect [items]="pabellon" class="ng-select-custom"
            bindLabel="descripcionItem"
            bindValue="idMultitabDet"
            placeholder="Seleccione un pabellón"
            [notFoundText]="'No hay datos encontrados.'"
            formControlName="pabellon" (change)="onChangePorPabellon($event)">
            <ng-template ng-option-tmp let-item="item">
              {{item.idMultitabDet}} - {{item.descripcionItem}}
                </ng-template>
                <ng-template ng-label-tmp let-item="item">
              {{item.idMultitabDet}} - {{item.descripcionItem}}
                </ng-template>
          </ng-select>
          <bfv-messages></bfv-messages>
        </div>
          </div>
      <div class="form-group row">
        <label class="col-sm-2 col-md-2 col-lg-2 ob-custom-label-form">Espacio Académico</label>
        <div class="col-sm-10 col-md-10 col-lg-10">
          <ng-select #pabellonSelect [items]="espaciosAcademicoFiltrado"
          class="ng-select-custom"
          bindLabel="descripcionEspacioAcademico"
          bindValue="idEspacioAcademico"
          placeholder="Seleccione un espacio"
          [notFoundText]="'No hay datos encontrados.'"
          formControlName="espacio">
          </ng-select>
        </div>
      </div>
  </div>
</app-form-modal>
